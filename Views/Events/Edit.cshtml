@model EventBooking.Models.Event
@{
    ViewData["Title"] = "Edit Event";
    Layout = "_Layout";
}

<div class="container py-5">
    <h1 class="mb-4">Edit Event</h1>

    @using (Html.BeginForm("Edit", "Events", FormMethod.Post, new { enctype = "multipart/form-data" }))
    {
        @Html.AntiForgeryToken()
        @Html.HiddenFor(m => m.EventId)

        <div class="mb-3">
            @Html.LabelFor(m => m.EventName)
            @Html.TextBoxFor(m => m.EventName, new { @class = "form-control" })
            @Html.ValidationMessageFor(m => m.EventName, "", new { @class = "text-danger" })
        </div>

        <div class="mb-3">
            @Html.LabelFor(m => m.Description)
            @Html.TextAreaFor(m => m.Description, new { @class = "form-control", rows = 3 })
            @Html.ValidationMessageFor(m => m.Description, "", new { @class = "text-danger" })
        </div>

       

        <div class="mb-3">
            @Html.LabelFor(m => m.Venue)
            @Html.TextBoxFor(m => m.Venue, new { @class = "form-control" })
            @Html.ValidationMessageFor(m => m.Venue, "", new { @class = "text-danger" })
        </div>

        <div class="mb-3">
            @Html.LabelFor(m => m.MaxCapacity)
            @Html.TextBoxFor(m => m.MaxCapacity, new { type = "number", @class = "form-control", min = "1", max = "1000" })
            @Html.ValidationMessageFor(m => m.MaxCapacity, "", new { @class = "text-danger" })
        </div>

        <div class="mb-3">
            @Html.LabelFor(m => m.PricePerPerson)
            @Html.TextBoxFor(m => m.PricePerPerson, new { type = "number", step = "0.01", @class = "form-control" })
            @Html.ValidationMessageFor(m => m.PricePerPerson, "", new { @class = "text-danger" })
        </div>

        <div class="mb-3">
            @Html.Label("Current Image")
            <div class="mb-2">
                <img src="@(!string.IsNullOrEmpty(Model.ImagePath) ? Model.ImagePath : "/images/event-placeholder.jpg")"
                     style="width:120px; height:90px; object-fit:cover;" />
            </div>
            @Html.LabelFor(m => m.ImagePath, "Change Image")
            <input type="file" name="eventImage" class="form-control" />
        </div>

        <div class="mb-3 form-check">
            @Html.CheckBoxFor(m => m.IsActive, new { @class = "form-check-input", id = "IsActive" })
            @Html.LabelFor(m => m.IsActive, new { @class = "form-check-label" })
        </div>

        <button type="submit" class="btn btn-primary me-2">Save Changes</button>
        <a asp-action="Manage" class="btn btn-secondary">Cancel</a>
    }
</div>
